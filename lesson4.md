https://youtu.be/NuY7szYSXSw

## 专业名词

denote 表示

divisible 可除尽的

## 课程笔记内容



引导式问题，给你一个装满3升和5升的容器，可否精确的做出来4升的容器。课程上，老师通过一个视频，解锁炸弹必须要4升的水的重量，精确的才能正好解锁一个炸弹。通过这个趣味的方式，引导学生必须要解开这道题。

如果我用（a, b)代表是左右2个杯子的数值，比做一个状态机，来演示如何从3升，5升弄出来4升水。

则答案如下：左边的是3升杯子，右边是5升杯子 。 

(0, 5) -> (3, 2) -> (0, 2) -> (2, 0) -> (2, 5) -> (3, 4) 顺利解题一个4升水。

下一个引导性的问题，就是如果给你一个33升，55升的水杯，请问可否精准的盛出来4升水。（tbd)

好吧。显然这里需要一个公式了。



我们首先建立几个定义一下：

左边的杯子的容量为a，右边的杯子的容量为b

左边杯子的现存水量是x，右边杯子的现存容量是y

m | a , 代表 a = k * m ， k是integer整数。意味着a可以被m 整除，英文说叫 m divides a ， 例如 3 | 6， 3可以把6分隔开

m | b，以此类推。

那么如果m | a & m | b则代表，m是a和b的公约数。（这个公约数的定义，至今还记得）



我们还可以进一步推理一下这个游戏规则下，有潜在可能的状态（state machine），各种转变

#### 初始状态（0，0）

#### 倒掉操作

（x, y) -> ( x, 0) 或者（y, 0)

#### 倒入灌满操作

（x, y) -> (a, y) 或者 (x, b)

#### 倒入另一个瓶的操作

这里假定左边的瓶子倒入右边的瓶子

(x, y) -> (0, x+y) 这里有个前提是x + y < b ，否则就变成上一个倒入另一个瓶子将其灌满的操作 + 并且清空的操作了。

那么如果x + y > b 呢？

(x, y) -> ( x - (b-y),  b) -> ( x+y-b, b)



那么相对应的，以此类推，假定右边的瓶子倒入左边的，可以得出以下的推理

(x, y) -> (x+y, 0)

(x, y) -> (a, y - (a - x)) -> (a, x+y-a)



好的，现在我们进入正题，开始进入推理，通过步步推理，证明一个定理



如果存在一个a和b的公约数为m，即m | a, m | b, 

那么存在一个不变的规律invariant ，叫定理也行吧，m可以成为任意转换状态下的分解值的约数，即m | x, m | y

如何证明它呢？

还是老规矩，归纳法，推理，最终证明。

第一步：base case

即（0, 0) 这个例子，显然 m | 0 , 因此直接通过了。

第二步：我们假定m | x, m | y, 我们需要证明m 依然可以divide 下一个转化之后的数值。

那么如果状态在(x,y)的情况下有多少种变种呢？

显然刚刚的铺垫过了，只有5种可能（0,0), (0, x+y), (x+y, 0), (a, x+y-a), (x+y-b,b) 

在m | a, m | b的情况下, 如果假定 m | x, m | y ， 那么就算他们再次运算，他们依然是m的倍数。因此能够得出结论，下一个转化之后的状态，他们依然能够被m divided。



#### 第三步： 得出定理，只要两个杯子的容量a, b能够找到一个最大公约数m，那么m就可以除尽所有的可能值。也就是说，所有的可能，都是m的倍数，就可以推导出来，无论你怎么倒腾来回的倒水，转化，最终的杯子里的数值，都是m的倍数。

最后一步，验证我们的定理，回到题目第一个，3升和5升水杯的最大公约数就是1，因此他一定可以转化到4升，因为1 | 4。

而33升水杯和55升水杯，最大公约数是11，无论如何都是无法倒出来4升水的，因为4 | 11是不成立的。但是我验证了一下，他可以倒出来44升水。

这里有这么一个术语greatest common divisor of a, b，最大公约数，就叫gcd(a, b) 突然想起来ios的gcd。。。mua。。。

例如gcd(3,5) = 1, gcd(33,55) = 11,  gcd(52,44) = 4

那么问题来了，如果两个都是质数，只能被自己或1整除，那么1则是他们唯一的公约数。gcd(11,13) = 1

#### 以下是我的联想推论：

是否意味着，质数这样子的水杯，例如11，13，能够测量出来任意1的倍数的水呢？

（0，13） -> (11,2) -> (0, 2) -> (2, 0) -> (2,13) -> (11, 4) -> (0, 4) -> (4, 0) -> ( 4, 13) -> (11, 6) -> (6, 0) -> (11, 8) -> (8,0 ) -> (11, 10) -> (10, 0) -> (11,12)

你会发现我上面的操作都是13往11的杯子里灌注，如果反向的来，

(11, 0) -> (0, 11) -> (11, 11) -> (9, 13) -> (9, 0) -> (0, 9) -> (11, 9) -> (7, 13) -> (7, 0) -> (0, 7) -> (11, 7) -> (5, 13) -> (0, 5) -> (11, 5) -> (3, 13) -> (0, 3) -> (11, 3) -> (1, 13)

至此，我手动撸出来了1，2，3，4，5，6，7，8，9，10, 11,12,13所有可能。



手动验证成功，所有的质数杯子，可以有办法测量出来所有容量范围内的水量。



既然我们已经有了定理可以获得某升水是否可以通过杯子的各种转化获得，那么我们是否可以进一步理论化，到底通过几步就能获得呢？

#### 老师于是用公式化定义了一下如上的操作  L = s * a + t * b 这里我们总认为a < b

任意的结果L，都可以用整数integer s 和 t 来表达移动后的结果

例如 4 = (-2) * 3 + 2 * 5 ; 这里的4升代表，可以通过给5升水灌满2次，3升水倒掉2次。10-6 于是余下来4升水。

当然也可以这么表达:  4 = 3 * 3 -  1 * 5 就是3升水灌满3次，不断的给5升水里灌满，5升水只需要倒掉1次，9-5=4升水。

#### 下一个定理来了：就是任意的linear combination线性组合，即可实现任意可以的数值。其实我们已经隐约在(11,13)的例子中运用了这个技巧。

于是就讲到了一堆公式来证明为什么可以连续的从一个罐子，往另一个罐子里倒入，就可以，这里他换了个公式证明，最终证明了是同一个公式。我看得笑死。

以下都是我们常识都觉得的事情，我就不翻译了。美国人的数学真的有点菜啊。

然后就是找到最大公约数。

老师很费劲的解释了如何求gcd最大公约数。

我们小学的时候学了相乘法，找到共同的质因数；

老师的方法是gcd(a, b) = gcd(b, a mod b)，好像是欧几里得算法。这里要复习一下这个https://youtu.be/JUzYl1TYMcU

The Euclidean algorithm is based on the principle that the greatest common divisor of two numbers does not change if the larger number is replaced by its difference with the smaller number

我们做个例子，252与105的最大公约数是21。252是21的12倍，105是21的5倍。

252 = 2 * 105 + 42

105 = 2 * 42  + 21

42 = 2 * 21 + 0

至此21是最大公约数。

其实反过来想想，如果他们存在公约数，那么用21的21倍，减去尽可能多的105的倍数，剩下来的42依然是21的倍数。

那么第二轮公式105依然是21的倍数，去求余42的倍数，得出来的都是21的倍数。

最终，当余数是0，那么他们的最大公约数也就找到了，是21。挺简单哈，我咋没想到这个公式呢。。。



这节课就讲了一个问题，但是讲的非常深入。老师也换了个新的口音，我花了大概2周断断续续的才读完，不容易啊。

